<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Braille Keyboard Prototype</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <main style="min-height:40vh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:40px;color:#ddd;font-family:system-ui,sans-serif;gap:12px;width:100%;max-width:900px;margin:0 auto;">
    <label for="braille-output" style="align-self:stretch;font-size:13px;color:#bbb;letter-spacing:.5px;text-transform:uppercase;">Braille Output</label>
    <textarea id="braille-output" aria-label="Braille output" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off" style="width:100%;max-width:900px;min-height:140px;background:#111;border:1px solid #333;border-radius:6px;color:#eee;font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, 'Liberation Mono', monospace;font-size:15px;line-height:1.4;padding:10px 12px;resize:vertical;" placeholder="Type using braille chords (press and release combinations of S D F J K L). Space bar inserts space."></textarea>
  </main>

  <section id="debug-panel" aria-label="Debug controls" style="position:fixed;top:8px;right:8px;background:#222;border:1px solid #444;padding:8px 12px 10px;border-radius:6px;font-family:system-ui;font-size:12px;color:#eee;z-index:1200;min-width:160px;line-height:1.35;">
    <strong style="font-size:12px;">Debug</strong>
    <label style="display:block;margin-top:4px;">
      <input type="checkbox" id="toggle-visibility" checked /> Show keyboard
    </label>
    <label style="display:block;margin-top:4px;">
      <input type="checkbox" id="toggle-auto-hide" checked /> Allow hide off-screen
    </label>
    <label style="display:block;margin-top:6px;">
      <span style="display:block;margin-bottom:2px;">Theme</span>
      <select id="theme-mode-select" style="width:100%;font-size:11px;padding:2px 4px;">
        <option value="dark" selected>Dark</option>
        <option value="dark-contrast">Dark Contrast</option>
        <option value="light">Light</option>
        <option value="light-contrast">Light Contrast</option>
      </select>
    </label>
    <label style="display:block;margin-top:6px;">
      <span style="display:block;margin-bottom:2px;">Key Labels</span>
      <select id="key-label-mode" style="width:100%;font-size:11px;padding:2px 4px;">
        <option value="print" selected>Print letters only</option>
        <option value="braille">Braille cells only</option>
        <option value="morph">Print → Braille morph</option>
        <option value="blank">Blank keys</option>
      </select>
    </label>
    <label style="display:block;margin-top:6px;">
      <span style="display:block;margin-bottom:2px;">Space Display</span>
      <select id="space-display-mode" style="width:100%;font-size:11px;padding:2px 4px;">
        <option value="braille" selected>Braille cell</option>
        <option value="braille-print">Braille & print</option>
        <option value="braille-print-long">Braille & print (long)</option>
        <option value="blank">Blank</option>
      </select>
    </label>
    <fieldset style="margin-top:10px;border:1px solid #444;padding:6px 6px 8px;border-radius:5px;">
      <legend style="padding:0 4px;font-size:10px;letter-spacing:.5px;text-transform:uppercase;opacity:.8;">Key Highlight</legend>
      <label style="display:flex;align-items:center;gap:6px;margin-top:4px;font-size:11px;">
        <input type="checkbox" id="status-include-ring" checked /> Show Ring
      </label>
      <label style="display:block;margin-top:4px;">
        <span style="display:block;margin-bottom:2px;">Severity</span>
        <select id="status-severity" style="width:100%;font-size:11px;padding:2px 4px;">
          <option value="info" selected>Info ℹ️</option>
          <option value="focus">Focus ⬇️</option>
          <option value="success">Success ✅</option>
          <option value="warning">Warning ⚠️</option>
          <option value="failure">Failure ‼️</option>
        </select>
      </label>
      <label style="display:block;margin-top:4px;">
        <span style="display:block;margin-bottom:2px;">Key</span>
        <select id="status-key" style="width:100%;font-size:11px;padding:2px 4px;">
          <option value="s">s</option>
          <option value="d">d</option>
          <option value="f">f</option>
          <option value="space">space</option>
          <option value="j">j</option>
          <option value="k">k</option>
          <option value="l">l</option>
        </select>
      </label>
      <div style="display:flex;gap:4px;margin-top:6px;flex-wrap:wrap;">
        <button type="button" id="apply-status" style="flex:1 1 auto;font-size:11px;padding:4px 6px;border:1px solid #555;background:#2a2a2a;color:#eee;border-radius:4px;cursor:pointer;">Apply</button>
        <button type="button" id="clear-status" style="flex:1 1 auto;font-size:11px;padding:4px 6px;border:1px solid #555;background:#2a2a2a;color:#eee;border-radius:4px;cursor:pointer;">Clear</button>
        <button type="button" id="clear-all-status" style="flex:1 1 100%;font-size:11px;padding:4px 6px;border:1px solid #555;background:#3a1a1a;color:#eee;border-radius:4px;cursor:pointer;">Clear All</button>
        <button type="button" id="test-rings" style="flex:1 1 100%;font-size:11px;padding:4px 6px;border:1px solid #555;background:#18324f;color:#eee;border-radius:4px;cursor:pointer;">Test Rings</button>
      </div>
    </fieldset>
    <fieldset style="margin-top:10px;border:1px solid #444;padding:6px 6px 10px;border-radius:5px;">
      <legend style="padding:0 4px;font-size:10px;letter-spacing:.5px;text-transform:uppercase;opacity:.8;">Chord Settings</legend>
      <label style="display:block;margin-top:4px;font-size:11px;">
        <span style="display:block;margin-bottom:2px;">Chord Debounce (ms)</span>
        <div style="display:flex;gap:6px;align-items:center;">
          <input id="chord-debounce-ms" type="number" min="0" max="500" step="10" value="90" style="flex:1;font-size:11px;padding:3px 4px;background:#181818;border:1px solid #555;color:#eee;border-radius:4px;" />
          <button type="button" id="chord-debounce-reset" style="font-size:11px;padding:4px 6px;border:1px solid #555;background:#262626;color:#ddd;border-radius:4px;cursor:pointer;">Reset</button>
        </div>
      </label>
    </fieldset>
  </section>

  <div id="braille-keyboard" role="group" aria-label="Braille keyboard" data-visible="true">
  <div class="braille-key" data-key="s" aria-label="S key"><span class="key-print">s</span><span class="key-braille" aria-hidden="true">⠄</span></div>
  <div class="braille-key" data-key="d" aria-label="D key"><span class="key-print">d</span><span class="key-braille" aria-hidden="true">⠂</span></div>
  <div class="braille-key" data-key="f" aria-label="F key"><span class="key-print">f</span><span class="key-braille" aria-hidden="true">⠁</span></div>
    <div class="braille-space" data-key="space" aria-label="Space bar (submit)">
      <div class="braille-space-inner" id="braille-chord-wrapper">
        <span class="braille-symbol" id="braille-symbol" aria-hidden="true">⣿</span>
        <span class="braille-letter-desc" id="braille-letter-desc">(none)</span>
      </div>
    </div>
  <div class="braille-key" data-key="j" aria-label="J key"><span class="key-print">j</span><span class="key-braille" aria-hidden="true">⠈</span></div>
  <div class="braille-key" data-key="k" aria-label="K key"><span class="key-print">k</span><span class="key-braille" aria-hidden="true">⠐</span></div>
  <div class="braille-key" data-key="l" aria-label="L key"><span class="key-print">l</span><span class="key-braille" aria-hidden="true">⠠</span></div>
  </div>
  <div id="braille-live" aria-live="polite" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">Braille keyboard ready.</div>

  <script src="js/main.js"></script>
</body>
</html>
